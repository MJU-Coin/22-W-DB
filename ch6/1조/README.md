# 데이터 모델링 발표 자료

## 데이터 모델링의 개념

**데이터 모델링이란?**

: 현실 세계의 복잡한 개념을 단순화하고 추상화시켜 데이터 베이스화하는 과정.

![image (1)](https://user-images.githubusercontent.com/108862575/211610203-be5b6b20-01d8-4f51-a3a0-cb008541189f.jpeg)

## 데이터베이스 생명 주기

### 의미 : 데이터베이스의 생성과 운영에 관련된 특징을 말한다.

### 생명 주기의 순환 과정

- **요구 사항 수집 및 분석**

  :사용자들의 요구 사항을 듣고 분석하여 데이터 베이스 구축의 범위를 정하는 단계

- **설계**

  :분석된 요구 사항을 토대로 주요 개념과 업무 프로세스 등을 식별하고(**개념적 설계**), 사용하는 DBMS의 종류에 맞게 변환한 후(**논리적 설계**), 데이터베이스 스키마를 도출(**물리적 설계**)하는 단계

- **구현**

  :이전 단계에서 생성한 스키마를 실제 DBMS에 적용, 테이블 및 관련 객체를 만든다.

- **운영**

  :구현된 데이터베이스를 기반으로 소프트웨어를 구축, 서비스 제공

- **감시 및 개선**

  :시스템 문제를 관찰하고 데이터베이스 자체의 문제점 파악하여 개선


## 데이터 모델링 과정

![image](https://user-images.githubusercontent.com/108862575/211610565-f37be357-4f8b-43a2-a1ba-4e4e60d0f424.png)

### 요구 사항 수집 및 분석

**4가지 대표적인 방법**

- **실제 문서를 수집하고 분석한다.**
    - 문서는 기록을 위한 자료이므로 우선 대상일 가능성이 높다.

- **담당자와의 인터뷰나 설문조사를 통해 요구 사항을 직접 수렴한다.**
    - 사용할 담당자에게 요구 사항을 수렴하는 방법
    - 의사소통이 원활하지 않으면, 잘못된 DB를 설계할 수 있다.

- **비슷한 업무를 처리하는 기존의 데이터 베이스를 분석한다.**
    - 유사한 시스템을 찾았으면, 그 시스템을 참고하여 요구 사항을 파악.

- **각 업무와 연관된 모든 부문을 살펴본다.**
    - 일반적으로 한 가지 업무가 단독으로 처리되는 경우는 드물다.
    - 대부분 서로 연관성을 가지고 처리되므로 처리하려는 업무나 대상의 전체를 보면서 수집 및 분석한다.

### 개념적 모델링

**개념**

**: 전 단계를 토대로 핵심적인 개념을 구분하고 전체적인 뼈대를 만드는 과정.**

핵심적인 개념을 구분한다? ⇒ **개체를 추출, 개체들 간의 관계를 정의, ER 다이어그램을 만드는 과정.**

![image (1)](https://user-images.githubusercontent.com/108862575/211610707-7a2a9731-f52d-4240-8513-5a364a9cf86e.png)

### 논리적 모델링

**개념**

**: 이전 모델링이 만든 ER 다이어그램을 사용하고자 하는 DBMS에 맞게 사상(Mapping)하여 실제 데이터베이스로 구현하기 위한 모델을 만드는 과정.**

**과정**

1. **개념적 모델링에서 추출하지 않았던 상세 속성들을 모두 추출한다.**
    - 실제 필요한 모델링에 필요한 모든 정보를 추출.
2. **정규화를 수행한다**.
    - 데이터 중복 저장을 피하기 위해 정규화를 수행함.
3. **데이터의 표준화를 수행한다**.
    - 용어 정리 및 데이터 크기나 형태를 확정.

![image (2)](https://user-images.githubusercontent.com/108862575/211611011-619e6d87-218a-49bd-906b-f49c5cb16bf5.png)

### 물리적 모델링

**개념**

**: 관계 스키마 모델의 물리적 구조를 정의하고 구현하는 과정**

**고려 사항**

1. **응답시간을 최소화해야 한다.**
2. **동시에 많은 트랜잭션을 발생 시켜야 한다.**
3. **데이터가 저장될 공간을 효율적으로 배치해야됨.**

![image (3)](https://user-images.githubusercontent.com/108862575/211611175-8e3c6157-c42b-4561-88de-9bd5fcdacfc2.png)

## ER 모델

### 개념

**: 개념적 모델링에 사용하는 모델로 사물을 개체와 개체 간의 관계로 표현한다.**

![image (4)](https://user-images.githubusercontent.com/108862575/211611451-a16b143f-246c-498a-b83a-c460b91662f6.png)

### ER 다이어그램

![ㅁ은 개체(Entity) ◇는 관계(Relationship) ㅇ은 속성(Attribute)으로 나타낸다_](https://user-images.githubusercontent.com/108862575/211611546-b7326cd5-4d85-4619-a19d-93c18ed27804.png)

ㅁ은 개체(Entity) ◇는 관계(Relationship) ㅇ은 속성(Attribute)으로 나타낸다.

### [개체와 개체 타입]

**개체(Entity): 유무형의 정보를 가지고 있는 독립적인 실체**

**비슷한 속성의 개체 타입(Entity Type)을 구성, 개체 집합(Entity Set)으로 묶임.**

![image (5)](https://user-images.githubusercontent.com/108862575/211611585-297287d4-d0b2-4f8b-b05f-0cad3b2b1e23.png)

### 개체의 특징

1. 유일한 식별자에 의해 식별이 가능하다.
2. 꾸준한 관리를 필요로 하는 정보이다.
3. 두 개 이상 영속적으로 존재한다.
4. 업무 프로세스에 이용한다.
5. 반드시 자신의 특징을 나타내는 속성을 포함한다.
6. 다른 개체와 최소 한 개 이상의 관계를 맺고있다.

### 개체 타입의 ER 다이어그램 표현

<img width="1000" alt="Ex) 회사 직원 데이터 베이스 속 부양 가족" src="https://user-images.githubusercontent.com/108862575/211611623-9bf6c4aa-0bb1-417d-a3e3-319e11b6aa79.png">

Ex) 회사 직원 데이터 베이스 속 부양 가족

## 속성(Attribute)

### 속성의 ER 다이어그램 표현

![image (6)](https://user-images.githubusercontent.com/108862575/211611687-7af83813-7f53-41b8-9cec-6311e61b89e6.png)

- (일반)속성
- 키(Key) 속성
- 약한 개체의 식별자
- 다중값 속성
- 유도 속성
- 복합 속성

## [관계와 관계 타입]

### 관계(Relationship) : 개체 사이의 연관성을 나타내는 개념.

### 관계 타입(Relationship Type) : 개체 타입과 개체 타입 간의 연결 가능한 관계.

### 관계 집합(Relationship Set) : 관계로 연결된 집합.

![image (7)](https://user-images.githubusercontent.com/108862575/211611811-9ab1b3fb-ec36-47e2-94ad-39ae5df279eb.png)

### 관계 대응수(Cardinality)

<img width="1000" alt="image (8)" src="https://user-images.githubusercontent.com/108862575/211612433-2cdad204-88b0-42b3-a2b5-091a4e118b32.png">

### min과 max

![image (9)](https://user-images.githubusercontent.com/108862575/211612687-03813e00-4351-4370-8faf-dd23a1f95b81.png)

1,N,M은 각 개체가 참여하는 최대 값을 의미한다. 최솟값을 표시 안 하는 문제점을 해결하기 위해 (min, max) 사용

### ISA 관계

**:상위 개체 타입의 특성에 따라 하위 개체 타입이 결정되는 형태.**

![학생의 속성에 따라 휴학생, 재학생, 졸업생으로 나뉜다_](https://user-images.githubusercontent.com/108862575/211612786-d0bf0140-5084-45f4-a555-75ba020b1fc7.png)
학생의 속성에 따라 휴학생, 재학생, 졸업생으로 나뉜다.

ISA라는 역삼각형을 경계로 위를 슈퍼 클래스, 아래가 서브 클래스라고 불린다.

### 참여 제약 조건

**전체 참여: 개체 집합의 모든 개체가 관계에 참여하는 것.**

**부분 참여: 일부 개체가 관계에 참여하는 것.**

![전체 참여는 (m,M) 표현에서 m≥1이고, 부분 참여는 m≥0이다_](https://user-images.githubusercontent.com/108862575/211612812-8c5b0003-0ec6-48a4-8ac6-bceeadcca9a7.png)
전체 참여는 (m,M) 표현에서 m≥1이고, 부분 참여는 m≥0이다.

### 역할

각 개체들은 고유한 역할(role)을 담당. 그래서 **선 아래에 적어준다.**
![요로케](https://user-images.githubusercontent.com/108862575/211612836-4b445550-8a96-47b8-a7aa-f5d4ec920f9a.png)
요로케

### 순환적 관계

**:하나의 개체 타입이 동일한 개체 타입과 순환적으로 관계를 가지는 형태를 의미합니다.**

즉 **1진 관계이다.**

![image (10)](https://user-images.githubusercontent.com/108862575/211612980-f550c2e0-1942-4ae2-ad68-954c347c804f.png)

## 약한 개체 타입과 식별자

약한 개체(Weak Entity) 타입

: 상위 대체 타입이 결정되지 않으면 개별 개체를 식별할 수 없는 **종속된 개체 타입**

<img width="1000" alt="약한 개체 타입에서 개별 객체를 구분하는 속성을 식별자(Discriminator) 또는 부분 키(Partial Key)라고 함_" src="https://user-images.githubusercontent.com/108862575/211613007-344e1c50-87b4-4178-9197-b7250490af6a.png">

약한 개체 타입에서 개별 객체를 구분하는 속성을 식별자(Discriminator) 또는 부분 키(Partial Key)라고 함.

**Ex)**

![image (11)](https://user-images.githubusercontent.com/108862575/211613089-cd833f75-5d16-495a-8e14-05774f028e6e.png)

## IE 표기법

### IE(Information Engineering) 표기법

새 발 표기법이라고도 불림. 이 표기법은 **개체 타입과 속성은 직사각형으로 표현함.**

![image (12)](https://user-images.githubusercontent.com/108862575/211613113-996aefba-e44a-464d-aa40-bead08f26f93.png)

![image (13)](https://user-images.githubusercontent.com/108862575/211614023-e02bc7fc-a5c5-40bc-a45d-7062a27cbafd.png)

## ER 모델을 관계 데이터 모델로 사상

완성된 ER모델이 실제 데이터 베이스로 구축되기 위하여 논리적 모델링 단계를 거치는데 , 이 단계에서 **사상(Mapping)**이 이루어진다.

관계 데이터 모델은 릴레이션 하나로 데이터 베이스의 논리적 구조를 표현, 하지만 ER 모델은 개체 타입, 관계 타입 속성으로 표현.

**⇒사상(Mapping)은 개체 타입과 관계 타입의 유형에 따라 변한다.**

### 7단계 사상 알고리즘

| 단계 | 사상할 대상 | 구분 |
| --- | --- | --- |
| 1단계 | 개체 타입 | 강한 개체 타입 |
| 2단계 | “ | 약한 개체 타입 |
| 3단계 | 관계 타입 | 이진 1:1 관계 타입 |
| 4단계 | “ | 이진 1:N 관계 타입 |
| 5단계 | “ | 이진 M:N 관계 타입 |
| 6단계 | “ | N진 관계 타입 |
| 7단계 | 속성 | 다중값 속성 |

### 관계 타입의 사상

![image (14)](https://user-images.githubusercontent.com/108862575/211614049-39cb47ac-744e-4aa0-a1eb-a0b0d2dd19f9.png)

기본키, **외래키**

**방법 1**

**오른쪽 개체 타입을 기준으로 관계 R표현**

E1 (KA2, A2)

E2 (KA2A4, **KA1***)*

---

**방법 2**

**왼쪽 개체 타입을 기준으로 관계 R표현**

E1 (KA1, A2, **KA2**)

E2 ( KA2, A4 )

---

**방법 3**

**단일 릴레이션 ER로 통합, 관계 R표현**

ER (KA1,A2, KA2, A4)

---

**방법 4**

**개체 E1, E2 와 관계 타입 R을 모두 독립된 릴레이션으로 표현**

E1 ( KA1, A2)

R(KA1, KA2)

E2(KA2, A4)

---

### **1단계**

**강한 개체 타입 (정규 개체 타입 E)**

- 사원 개체 타입에 대응하는 릴레이션 사원을 생성한 후 속성들을 표현한다.
- 기본키와 외래키는 PK, FK로 표시

EX) 사원(사번, 이름)

### **2단계**

**약한 개체 타입**

- 자신의 키와 함께, 강한 개체 타입의 키를 외래키로 사상해 자신의 기본키를 구성

EX) 가족(사번(FK), 이름, 출생일)

### **3단계**

**이진 1:1 관계 타입**

- **개체가 가진 정보 유형에 따라 판단**
- **외래키에 NULL이 덜 발생하는 방법을 사용하면 된다.**
- 방법 1~4 , 어떤것으로도 사상해도 된다.
- 방법 4는 불필요한 개체 생성 때문에 잘 사용하지 않는다.

![image (15)](https://user-images.githubusercontent.com/108862575/211614120-76c85022-7876-482b-aff4-8744b440ba34.png)

### **4단계**

**이진 1:N 관계 타입**

- N의 위치에 따라 **방법1, 방법2** 유형으로 사상

아래 예시를 보면

**>> N이 오른쪽에 있으므로,**

**오른쪽에 위치한 학생 릴레이션에  <학과 릴레이션 학과코드>를 외래키로 사용**

- 반대로 **학과 릴레이션에 학생 릴레이션 학번을 저장하는 것은 불가능**

![image (16)](https://user-images.githubusercontent.com/108862575/211614187-e178dddd-53df-4303-92f7-fb54695d604a.png)

### **5단계**

**이진 M:N 관계 타입**

- **방법 4 로 사상된다. (방법 4는 개체1, 개체2, 관계를 다 분류하는것)**

**즉 교수, 과목을 분류하고, R(관계)에는 두 개체의 키를 속성으로 만들면 된다.**

![image (17)](https://user-images.githubusercontent.com/108862575/211614614-c4c9fbf3-5e84-41c8-ac46-3e9d5a8300ee.png)

### **6단계**

**N진 관계 타입**

**차수가 3 이상인 다진 관계 타입일 때, 방법 4로 사상**

![image (18)](https://user-images.githubusercontent.com/108862575/211614639-242e6492-a0ad-4be6-b3d7-e08396feed2f.png)

### **7단계**

**다중값 속성**

속성의 개수를 알 수 없을 때 **방법 1**

속성의 개수가 제한적으로 정해질 때 **방법2**

취미는 다중값 속성이고 속성의 개수를 알 수 없으므로

방법 1 을 사용해야 한다.
![image (19)](https://user-images.githubusercontent.com/108862575/211614884-a7309a15-c7ca-4c84-a377-d92a27321e1b.png)