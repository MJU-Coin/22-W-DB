# CHAPTER 06 데이터 모델링

# 데이터 모델링

## 개념

### 정의

- 현실 세계의 복잡한 개념을 단순화하고 추상화시켜 데이터베이스화 하는 과정

### 생명주기

- DB의 생성과 운영에 관련된 특징: DB life cycle
- 요구사항 수집 및 분석 → 설계 → 구현 → 운영 → 감시 및 개선

### 과정

- DB life cycle의 요구사항 수집 및 분석 단계, 설계단계에 해당
- 요구사항 수집 및 분석 단계
    - 현실세계의 대상 및 사용자의 요구사항을 정리 및 분석
- 설계 단계
    - 중요 개념 구분 (개념적 모델링)
    - 개념 구체화 (논리적 모델링)
    - 최종 DB 생성계획에 따른 개체, 인덱스 생성(물리적 모델링)

**요구사항 수집 및 분석 방법**

: 모호성을 제거하여 구체적이고 명확하게 정리

- 실제 문서 수집 & 분석 → 문서는 기록을 위한 자료로 db관리 우선대상에 해당할 가능성이 높음
- 담당자와의 인터뷰 및 설문조사를 통한 요구사항 직접 수렴 → 의사소통이 원활하지 않으면 잘못된 db를 설계할 가능성이 높으므로 분석가는 담당자의 의도를 정확하게 파악해야함
- 비슷한 업무를 처리하는 기존의 db분석 → 유사시스템 참고
- 각 업무와 연관된 모든 부문을 살펴봄 → 일반적으로 업무는 연관성을 갖으므로 대상의 전체를 보며 요구사항 수집&분석

**개념적모델링 conceptual modeling**

- 요구사항 수집 및 분석 결과를 토대로 업무의 핵심개념(entity), 핵심 속성(PK), 관계를 정의하고 전체적인 뼈대를 제작
- entity를 추출하고 relationship을 정의 하여 ER diagram(ERD, entity Relationship Diagram)을 만드는 과정
- entity는 구체적으로 표현할 수 있는 실체, ERD는 실체간의 관계를 표현 한 것

**논리적모델링 logical modeling**

- conceptual modeling에서 만든 ERD를 사용할 DBMS에 맞게 mapping하여 DB로 구현하기 위한 모델을 만드는 과정
- ERD가 관계 데이터 모델, 네트워크 데이터 모델, 계층 데이터 모델 등으로 mapping
- 개념적 모델링에서는 핵심 속성을 추출, 논리적 모델링에서는 필요한 모든 속성을 추출
- 데이터 중복 저장 문제를 해결하고자 정규화 수행
- 데이터 용어사전과 도메인(형태, 크기)을 정의해 데이터 표준화 수행

<aside>
💡 `Data Dictionary : table과 column의 의미를 설명한 사전, 동일한 의미의 용어를 서로 다르게 사용함으로 생기는 혼란을 방지

</aside>

**물리적모델링 physical modeling**

- logical modeling을 실제 컴퓨터의 저장장치에 저장하기 위한 물리적 구조를 정의하고 구현하는 과정
- DBMS의 특성에 맞게 저장구조를 정의해야 DB가 최적의 성능을 낼 수 있음
- 모델링시 트랜잭션, 저장공간 설계 측면에서 고려할 사항
    - 응답시간 최소화
    - 동시 발생 가능한 트랜잭션 수 검토 → 성능에 영향을 미치는 문제로 효율적인 분산 전략 요구
    - data 저장장소의 효율적 배치 → data의 특성을 파악해 DBMS에 따라 다양하게 존재하는 저장방법을 결정, 검색을 위한 index 설계로 성능향상

## ER Model

- conceptual modeling에 사용하는 model
- 개체, 속성, 관계를 규명하는 것
    - entity는 독립적인 의미를 지니는 유무형의 사람 또는 사물
    - entity의 특성을 나타내는 attribute
    - entity간의 relationship

### **entity**

- 유무형의 정보를 갖는 독립적인 실체
- 공통된 속성을 가진 entity의 모임은 entity set, 개체 집합의 동일한 특징 entity type을 구성
- 특징
    - 유일한 식별자에 의해 식별가능해야한다.
    - 꾸준한 관리를 요구하는 정보이며 업무프로세스에 이용
    - 두개 이상 영속적으로 존재
    - 자신의 특징을 나타내는 속성을 포함
    - 다른 개체와 한개 이상의 관계를 맺음
- weak entity type vs strong entity type
    - strong entity type(보통 entity) → 다른 개체의 도움없이 독자적으로 존재가능
    - weak entity type→ 독자적 존재 불가, 반드시 상위 개체 타입을 갖음

### **attribute**

- 개체가 가진 성질
- simple attribute→분해 불가능한 속성,
composite attribute→독립적인 의미를 가진 속성으로 분해가 가능한 속성
- key attribute→ 개별 개체를 식별할 수 있는 유일한 값을 갖는 속성
- single-valued attribute→하나의 값만을 갖는 속성
muti-valued attribute→ 여러개의 값을 갖는 속성
- stored attribute→다른 속성의 영향없이 단독으로 저장되는 속성
derived attribute→다른 저장 속성으로부터 유도된 속성

### **relationship**

- 개체와 개체 사이의 관계(연관성)를 표현
- relationship type→ 개체 타입과 개체타입간의 연결 가능한 관계를 정의
relationship type set → 관계로 연결된 집합
- 관계타입의 속성을 통해 관계에 대한 추가적인 정보를 제공
- relationship type의 종류
    - 관계집합에 참가하는 개체 타입의 수=관계타입의 차수(degree)
    - 1진 관계, 2진 관계, 3진 관계
- 관계 대응 수에 따른 유형
    - 관계대응수cardinality→ 두 개체 타입의 관계에 실제로 참여하는 개별 개체 수
    - 하나만 참여하는 경우 1, 다중으로 참여하는 경우 N|M(0이상의 자연수)으로 표기
    - 일대일 관계, 일대다 관계, 다대일 관계, 다대다 관계가 존재
    - 관계대응수가 관계에 참여하는 개체의 최솟값을 표시하지 않는다는 점을 보완하기 위해 대응 수 외에 최솟값과 최댓값을 관계실선 위에 표기
        - max의 값을 *로 표기하는 경우 임의의 수만큼 참여할 수 있음
        - 관계대응수를 표기하는 위치와 최소최댓값을 표기하는 위치가 서로 반대에 존재
- ISA관계
    - is-a 관계→ 상위 개체 타입(super class)의 특성에 따라 하위 개체 타입(sub class)이 결정 되는 형태
- 참여제약조건
    - 전체 참여 → 집합 내 모든 개체가 관계에 참여, 최소값이 1이상으로 모두 참여함을 의미
    - 부분 참여 → 일부 개체만 참여, 최소값이 0 이상
- role
    - 개체 타입 간의 관계를 표현할 때 각 개체들은 고유한 role을 담당
    - 일반적으로 관계만으로 알 수 있는 경우 생략, 명확하지 않는 경우에는 관계선 위에 역할을 명시하는 형태로 표현
- 순환적 관계recursive relationship
    - 하나의 개체 타입이 동일한 개체 타입에 해당하는 자기 자신과 순환적으로 관계를 갖는 형태