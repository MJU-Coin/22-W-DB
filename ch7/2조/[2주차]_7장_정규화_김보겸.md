# 1. 이상현상

- **이상현상**  
  테이블에 투플을 삽입할 때 부득이하게 NULL 값이 입력되거나, 삭제 시 연쇄삭제 현상이 발생하거나, 수정 시 데이터의 일관성이 훼손되는 현상

## 이상현상의 개념

- **삭제이상**  
  투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
- **삽입이상**  
  투플 삽입 시 특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 하는 현상
- **수정이상**  
  수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상

## 이상현상의 예

교재 참고

# 2. 함수 종속성

- **함수 종속성의 개념**  
  릴레이션 R과 R에 속하는 속성의 집합 X, Y가 있을 때, X 각각의 값이 Y의 값 한 개와 대응이 될 때 ‘X는 Y를 함수적으로 결정한다’라고 함, 이때 X는, Y는 종속 속성, 함수 종속성은 보통 릴레이션 설계 때 속성의 의미로부터 정해짐  
  예) 학생번호 → 학생이름
  강좌이름 → 강의실
- **함수 종속성 다이어그램**  
  릴레이션의 속성을 직사각형, 속성 간의 함수 종속성을 화살표로 나타냄, 복합 속성의 경우 직사각형으로 묶음
- **함수 종속성 규칙**
  - 부분집합 규칙: : if Y ⊆ X, then X → Y
  - 증가 규칙: If X → Y, then XZ → YZ
  - 이행 규칙: If X → Y and Y → Z, then X → Z
  - 결합 규칙: If X → Y and X → Z, then X → YZ
  - 분해 규칙: If X → YZ, then X → Y and X → Z
  - 유사이행 규칙: If X → Y and WY → Z, then WX → Z
- **함수 종속성과 기본키**  
  릴레이션 R(K, A1, A2, A3, …, An)에서 K가 기본키이면, K → R이 성립함, 즉 기본키는 릴레이션의 모든 속성에대해 결정자
- **이상현상과 결정자**  
  이상현상은 기본키가 아니면서 결정자인 속성이 있을 때 발생
  - [1단계] 학생수강성적 릴레이션에서 (강좌이름, 강의실) 분리  
    ㄴ 학생수강성적1, 강의실
  - [2단계] 학생수강성적1 릴레이션에서 (학생번호, 강좌이름, 성적) 분리  
    ㄴ 학생학과, 학생성적, 강의실
  - [3단계] 학생학과 릴레이션에서 (학과, 학과사무실) 분리  
    ㄴ 학생, 학과, 학생성적, 강의실

# 3. 정규화

- **정규화**  
  이상현상이 발생하는 릴레이션을 분해하여 이상현상을 없애는 과정
- **정규화 과정**  
  이상현상이 있는 릴레이션은 이상현상을 일으키는 함수 종속성의 유형에 따라 등급을 구분
  - **제1정규형**  
    릴레이션 R의 모든 속성 값이 원자값을 가짐
  - **제2정규형**  
    릴레이션 R이 제 1정규형이고 기본키가 아닌 속성이 기본키에 완전 함수 종속임
    - 이상현상  
      기본키가 아닌 속성이 기본키에 완전 함수 종속이 아닌 불완전 함수 종속되어 있으면 발생
  - **제3정규형**  
    릴레이션 R이 제 2정규형이고 기본키가 아닌 속성이 기본키에 비이행적으로 종속함, 이행적 종속이란 A → B, B → C가 성립할 때 A → C가 성립되는 함수 종속성을 말함
    - 이상현상  
      릴레이션의 기본키가 아닌 강좌이름이 수강료를 결정하는 종속관계에서 발생
  - **BCNF**  
    릴레이션 R에서 함수 종속성 X → Y가 성립할 때 모든 결정자 X가 후보키임
    - 이상현상  
      릴레이션의 기본키가 아닌 교수가 특강이름을 결정하는 종속관계에서 발생
- **무손실 분해**  
  릴레이션 R을 릴레이션 R1과 R2로 분해할 때, R1▷◁R2=R이면 무손실 분해, R1 ∩ R2 → R1이나 R1 ∩ R2 → R2 중 하나를 만족해야 함
