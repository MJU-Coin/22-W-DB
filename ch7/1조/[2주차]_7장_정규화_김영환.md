# 7장 정규화

# 1. 이상 현상

## 개념

: 테이블에 터플을 삽입할 때 **부득이하게 NULL 값이 입력되거나**, **삭제 시 연쇄 삭제 현상이 발생**, **수정 시 데이터의 일관성이 훼손되는** 현상.

한 개의 릴레이션에 두 개 이상의 속성이 포함되어 있고 **기본키가 아닌 속성이 결정자일 때 발생**.

## 현상들

- 삭제 이상
    
    : 어떤 터플을 삭제 시 같이 저장된 다른 정보까지 **연쇄적으로 삭제되는 현상**
    
- 삽입 이상
    
    : 어떤 터플 삽입 시 **특정 속성에 해당하는 값이 없어 NULL 값을 입력해야 한다**.
    
- 수정 이상
    
    : 어떤 터플을 수정 시 중복된 데이터의 **일부만 수정되어 데이터의 불일치 문제가 발생하는 현상**.
    

# 2. 함수 종속성

## 개념

: 릴레이션의 속성 간에 **함수적으로 종속하는 성질**

: 어떤 속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 관계를 종속성이라 함

**Ex)  A->B로 표기하며 A를 B의 결정자라고 함.**

## 다이어그램 특징

- 릴레이션의 속성: 직사각형
- 속성 간의 함수 종속성: 화살표
- 복합 속성: 직사각형으로 묶어서 그림

## 규칙

- 부분 집합 규칙: If Y ⊆ X, then X → Y
- 증가 규칙 : If X → Y then XZ → YZ
- 이행 규칙 : If X → Y and Y → Z then, X → Z
- 결합 규칙 : If X → Y and X → Z then, X → YZ
- 분해 규칙 : If X → YZ, then X → Y and X → Z
- 유사 이행 규칙: If X -> Y and WY → Z, then WX → Z

## 함수 종속성과 기본키

: 릴레이션 R(K, A1, A2, A3, …An)에서 K가 기본키이면,  K→R이 성립.

  즉, **기본키는 릴레이션의 모든 속성에 대해 결정자(determinant)이다.**  

# 정규화

## 개념

: 이상현상이 발생하는 **릴레이션을 분해**하여 **이상현상을 없애는 과정.**

  릴레이션은 정규형 개념으로 구분하며, **정규형이 높을수록 이상현상은 줄어듬**.

## 제 1 정규형

: 릴레이션 R의 **모든 속성 값이 원자값을 가지는 형태**.

## 제 2 정규형

: 릴레이션 R이 제 1 정규형이고, **기본키가 아닌 속성이 기본키에 완전 함수 종속일 때** 나타나는 현상.

**완전 함수 종속**

: A와 B가 릴레이션 R의 속성이고 A→B 종속성이 성립할 때, **B가 A의 속성 전체에 함수 종속하고 집합 속성에 함수 종속하지 않을 경우.**

## 제 3 정규형

: 릴레이션 R이 제 2 정규형을 만족하고 **기본키가 아닌 속성이 기본키에 비이행적(Non-Transitive)으로 종속할 때.**

**이행적 종속**

: A->B, B->C가 성립할 때 A->C가 성립되는 함수 종속성을 의미.

## BCNF 정규형

: 릴레이션 R에서 함수 종속성 X->Y가 성립할 때 **모든 결정자 X가 후보키인 정규형.**

## 무손실 분해

: 릴레이션 R을 R1과 R2로 분해할 때, R1▷◁R2를 만족하는 경우

## 일반적인 릴레이션인 경우 BCNF까지 하면, 이상 현상이 사라지기에 BCNF까지 정규화한다.