# [2주차]_7장_정규화_박가현

## 이상현상

-삭제 삽입 수정 등 테이블에 저장된 내용을 조작할 때 문제가 발생하는 현상

- 삭제이상
    - 투플 삭제 시 같이 저장된 다른 정보까지 연쇄적으로 삭제되는 현상
    - ex) 도서랑 주문이랑 같이 저장하면 주문을 삭제했는데 그 도서에 관한 정보도 날라간다
- 삽입 이상
    - 투플 삽입 시 특정 속성에 해당하는 값이 없어 null값을 입력해야하는 현상
    - ex) 부서랑 사원을 같이 저장하면 새로운 부서가 생겼는데 사원이 없어 나머지 다 null값 입력하고 저장해야 하는 경우
- 수정 이상
    - 투플 수정 시 중복된 데이터의 일부만 수정되어 데이터의 불일치 문제가 일어나는 현상

## 함수적 종속성

어떤 속성 a의 값을 알면 다른 속성 b값이 유일하게 정해지는 의존 관계를

‘속성 b는 속성 a에 종속한다’ ‘속성 a는 속성 b를 결정한다’라고 한다

- 결정자가 복합 속성일 수 있다
- 기본키가 릴레이션의 모든 속성에 대해 결정자이어야 한다
- 이상 현상은 기본키가 아니면서 결정자인 속성이 있을 때 발생한다

## 정규화

이상현상은 대부분 두 가지 이상의 정보가 한 릴레이션에 저장되기 때문

이때 이상현상이 없어질 때까지 분해하고 분해하여 이상현상을 없애는 과정을 **정규화**라고 한다

- 제1정규형
    - 릴레이션의 속성 값이 원자값이어야한다
- 제2정규형
    - 기본키가 아닌 속성은 기본키에 완전 함수 종속이어야한다
    - 완전함수종속 : b가 a의 속성 전체에 함수 종속하고 부분 집합 속성에 함수 종속하지 않을 경우 완전 함수 종속이라고 한다
    - 완전함수종속이 아닌 불완전함수종속일때 이상현상이 발생하고 제2정규형으로 변환하기 위해 분해해야한다
- 제3정규형
    - 속성들이 이행적 함수 종속이 아닌 비이행적 함수 종속이어야한다
    - 이상현상을 일으키는 속성을 분해한다
- BCNF
    - x→y가 성립할때 모든 결정자 x가 후보키이면 BCNF 정규형이라고 한다
    - 결정자이면서 후보키가 아닌 속성이 존재하면 이상현상이 발생한다
    - ex) 교수는 릴레이션에서 후보키가 아니지만 다른 속성을 결정한다면 이상현상
    - 이상현상을 일으키는 속성을 분해한다
- 무손실 분해
    - 분해된 릴레이션에 공통 속성을 한 개 이상 두어야 한다
    - 공통 속성은 분해된 릴레이션을 다시 원래의 릴레이션으로 합성할 때 사용한다